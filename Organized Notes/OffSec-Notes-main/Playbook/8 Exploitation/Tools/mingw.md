---
tags:
  - tool
  - exploitation
---
# mingw

Compile C and C++ code for Windows targets from Linux or Unix-like systems using MinGW-w64.

## Capabilities

```bash
# Compile executable
i686-w64-mingw32-gcc exploit.c -o exploit.exe

# Compile shared library (DLL)
i686-w64-mingw32-gcc exploit.c -o exploit.dll -shared

# Resolve "undefined reference" errors by statically linking a library (e.g., ws2_32 for socket programming)
i686-w64-mingw32-gcc exploit.c -o exploit.exe -lws2_32
```

**Notes:**

- **Architecture Selection**: Use `i686-w64-mingw32-gcc` for compiling 32-bit binaries, suitable for broad compatibility across Windows versions. Opt for `x86_64-w64-mingw32-gcc` for 64-bit binaries to leverage modern system capabilities, such as accessing more than 4GB of memory.
- **C++ Compilation**: Replace `gcc` with `g++` in the commands for compiling C++ code. For example, use `i686-w64-mingw32-g++` for 32-bit C++ compilation.
- **Static vs. Dynamic Linking**: When linking against libraries, consider whether static or dynamic linking is more appropriate for your use case. Static linking (`-static` flag) incorporates the library into your executable, increasing its size but reducing dependencies. Dynamic linking keeps the application size smaller but requires the library to be present on the target system.
- **Debugging Support**: For debugging purposes, add the `-g` flag to include debug information in the compiled binaries, allowing for more effective analysis with tools like GDB.
- **Optimization**: Use the `-O2` flag for optimization. This can improve the performance of your compiled binary, though it may make debugging more complex.
